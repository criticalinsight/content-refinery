name = "content-refinery"
main = "src/worker.ts"
compatibility_date = "2024-09-23"

[durable_objects]
bindings = [
    { name = "CONTENT_DO", class_name = "ContentDO" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["ContentDO"]

[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true

[[vectorize]]
binding = "VECTOR_INDEX"
index_name = "refinery_signals"

# Secrets: GEMINI_API_KEY, TELEGRAM_BOT_TOKEN
# Set via: wrangler secret put <NAME>
