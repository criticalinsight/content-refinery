name = "content-refinery"
main = "src/worker.ts"
compatibility_date = "2024-09-23"

[durable_objects]
bindings = [
    { name = "CONTENT_DO", class_name = "ContentDO" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["ContentDO"]

[observability]
enabled = true

[observability.logs]
enabled = true
invocation_logs = true

[[vectorize]]
binding = "VECTOR_INDEX"
index_name = "refinery_signals"

# Secret[vars]
# TELEGRAM_API_ID = "..." (set via secret)
# TELEGRAM_API_HASH = "..." (set via secret)
# GEMINI_API_KEY = "..." (set via secret)
# Set via: wrangler secret put <NAME>
